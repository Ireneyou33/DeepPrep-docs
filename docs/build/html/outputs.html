<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Outputs of DeepPrep &mdash; DeepPrep  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=16ad857a"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ - Frequently Asked Questions" href="faq.html" />
    <link rel="prev" title="Processing pipeline details" href="processing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DeepPrep
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing.html">Processing pipeline details</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Outputs of DeepPrep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#anatomical-derivatives">Anatomical derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functional-derivatives">Functional derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visual-reports">Visual Reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ - Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Developers - API</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">What’s new</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DeepPrep</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Outputs of DeepPrep</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="outputs-of-deepprep">
<h1>Outputs of DeepPrep<a class="headerlink" href="#outputs-of-deepprep" title="Permalink to this heading"></a></h1>
<p>The outputs of DeepPrep have three categories:</p>
<ol class="arabic simple">
<li><p><strong>Anatomical derivatives</strong>: The anatomical images are preprocessed through motion correction, tissue segmentation, cortical surface reconstruction, volume and cortical surface registration, and etc.</p></li>
<li><p><strong>Functional derivatives</strong>: The functional images are preprocessed through motion correction, slice timing correction, susceptibility distortion correction, confounds estimation, and registration to both standard and non-standard spaces.</p></li>
<li><p><strong>Visual reports</strong>: For better visualization and understanding of the entire process, DeepPrep generates a visual report for each subject.</p></li>
</ol>
<section id="anatomical-derivatives">
<h2>Anatomical derivatives<a class="headerlink" href="#anatomical-derivatives" title="Permalink to this heading"></a></h2>
<p>FreeSurfer carries out preprocessed anatomical derivatives stores in <code class="docutils literal notranslate"><span class="pre">&lt;output_dir&gt;/Recon</span></code> by default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">output_dir</span><span class="o">&gt;/</span>
  <span class="n">Recon</span><span class="o">/</span>
    <span class="n">fsaverage</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
      <span class="n">label</span><span class="o">/</span>
      <span class="n">mri</span><span class="o">/</span>
      <span class="n">scripts</span><span class="o">/</span>
      <span class="o">...</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The preprocessed structural MRI data are organized to align with the results of FreeSurfer, encompassing the normalized
and skull-stripped brain, reconstructed cortical surfaces and morphometrics, volumetric segmentation, cortical surface
parcellation, and their corresponding statistics. Additionally, transformation files for surface spherical registration
are included.</p>
</section>
<section id="functional-derivatives">
<h2>Functional derivatives<a class="headerlink" href="#functional-derivatives" title="Permalink to this heading"></a></h2>
<p>The preprocessed functional derivatives are stored under the <code class="docutils literal notranslate"><span class="pre">&lt;output_dir&gt;/BOLD</span></code> in BIDS structure. All entities are shown in the file name, where <code class="docutils literal notranslate"><span class="pre">sub-&lt;subject_label&gt;</span></code> is mandatory, and the rest are optional:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">output_dir</span><span class="o">&gt;/</span>
  <span class="n">BOLD</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
      <span class="n">anat</span><span class="o">/</span>
        <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">noskull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
        <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">noskull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
         <span class="o">...</span>
      <span class="n">figures</span><span class="o">/</span>
        <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">summary_bold</span><span class="o">.</span><span class="n">html</span>
        <span class="o">...</span>
      <span class="n">func</span><span class="o">/</span>
        <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">orig_to</span><span class="o">-</span><span class="n">boldref_mode</span><span class="o">-</span><span class="n">image_desc</span><span class="o">-</span><span class="n">hmc_xfm</span><span class="o">.</span><span class="n">txt</span>
        <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">preproc_bold</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="o">...</span>
    <span class="n">dataset_description</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>The default output spaces for the preprocessed functional MRI consist of three options: 1. the native BOLD fMRI space, 2. the MNI space, and 3. the fsaverage6 surfaces space.
However, users have the flexibility to specify other output spaces, including the native T1w space and various volumetric and surface templates available on TemplateFlow.
The main outputs of the preprocessed data include:</p>
<blockquote>
<div><div class="line-block">
<div class="line">1.Preprocessed fMRI data.</div>
<div class="line">2.Reference volume for motion correction.</div>
<div class="line">3.Brain masks in the BOLD native space, include the nuisance masks, such as the ventricle and white-matter masks.</div>
<div class="line">4.Transformation files for between T1w and the fMRI reference and between T1w and the standard templates.</div>
<div class="line">5.Head motion parameters and the temporal SNR map.</div>
<div class="line">6.Confound matrix.</div>
</div>
</div></blockquote>
<p><em>Preprocessed fMRI data</em> are stored in the <code class="docutils literal notranslate"><span class="pre">&lt;output_dir&gt;/func</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;output_dir&gt;/anat</span></code> along with their reference files and json files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">amat</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">brain_mask</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">preproc_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">preproc_bold</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">preproc_bold</span><span class="o">.</span><span class="n">json</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">brain_mask</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">preproc_boldref</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p><em>Motion correction outputs</em> include motion corrected BOLD, reference frame to align with, and transformation matrices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">hmc_boldref</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">hmc_boldref</span><span class="o">.</span><span class="n">json</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_bold_mcf</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz_abs</span><span class="o">.</span><span class="n">rms</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_bold_mcf</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz_rel</span><span class="o">.</span><span class="n">rms</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_bold_mcf</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span><span class="o">.</span><span class="n">par</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">orig_to</span><span class="o">-</span><span class="n">boldref_mode</span><span class="o">-</span><span class="n">image_desc</span><span class="o">-</span><span class="n">hmc_xfm</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">orig_to</span><span class="o">-</span><span class="n">boldref_mode</span><span class="o">-</span><span class="n">image_desc</span><span class="o">-</span><span class="n">hmc_xfm</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><em>Fieldmap registration</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">boldref_to</span><span class="o">-</span><span class="n">auto000XX_mode</span><span class="o">-</span><span class="n">image_xfm</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">boldref_to</span><span class="o">-</span><span class="n">auto000XX_mode</span><span class="o">-</span><span class="n">image_xfm</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><em>Coregistration outputs</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">coreg_boldref</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">coreg_boldref</span><span class="o">.</span><span class="n">json</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">boldref_to</span><span class="o">-</span><span class="n">T1w_mode</span><span class="o">-</span><span class="n">image_desc</span><span class="o">-</span><span class="n">coreg_xfm</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">boldref_to</span><span class="o">-</span><span class="n">T1w_mode</span><span class="o">-</span><span class="n">image_desc</span><span class="o">-</span><span class="n">coreg_xfm</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><em>Volume registration outputs</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">anat</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">T1w_to</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">affine_xfm</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_from</span><span class="o">-</span><span class="n">T1w_to</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">nonlinear_xfm</span><span class="o">.</span><span class="n">npz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">affine_T1w</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p><em>Time series confounds</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">confounds_timeseries</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p><em>Surface outputs</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">func</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_hemi</span><span class="o">-&lt;</span><span class="n">hemi</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_bold</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">gii</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_task</span><span class="o">-&lt;</span><span class="n">task_label</span><span class="o">&gt;</span><span class="n">_run</span><span class="o">-&lt;</span><span class="n">run_idx</span><span class="o">&gt;</span><span class="n">_hemi</span><span class="o">-&lt;</span><span class="n">hemi</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_bold</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p><em>Outputs with and without skull</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">anat</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">noskull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-&lt;</span><span class="n">space_label</span><span class="o">&gt;</span><span class="n">_res</span><span class="o">-&lt;</span><span class="n">resolution</span><span class="o">&gt;</span><span class="n">_desc</span><span class="o">-</span><span class="n">skull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">T1w_res</span><span class="o">-</span><span class="mi">2</span><span class="n">mm_desc</span><span class="o">-</span><span class="n">noskull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_space</span><span class="o">-</span><span class="n">T1w_res</span><span class="o">-</span><span class="mi">2</span><span class="n">mm_desc</span><span class="o">-</span><span class="n">skull_T1w</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p><em>Volume segmentation outputs</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
  <span class="n">anat</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_dseg</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;</span><span class="n">_label</span><span class="o">-&lt;</span><span class="n">seg_label</span><span class="o">&gt;</span><span class="n">_probseg</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</section>
<section id="visual-reports">
<h2>Visual Reports<a class="headerlink" href="#visual-reports" title="Permalink to this heading"></a></h2>
<p>DeepPrep outputs summary reports, written to <code class="docutils literal notranslate"><span class="pre">&lt;output</span> <span class="pre">dir&gt;/QC</span></code>. These reports provide a quick way to make visual inspection of the results easy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">output_dir</span><span class="o">&gt;/</span>
  <span class="n">QC</span><span class="o">/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
    <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;/</span>
      <span class="n">figures</span><span class="o">/</span>
      <span class="n">logs</span><span class="o">/</span>
      <span class="n">sub</span><span class="o">-&lt;</span><span class="n">subject_label</span><span class="o">&gt;.</span><span class="n">html</span>
    <span class="o">...</span>
    <span class="n">dataset_description</span><span class="o">.</span><span class="n">json</span>
    <span class="n">nextflow</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">command</span>
    <span class="n">nextflow</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">config</span>
    <span class="n">report</span><span class="o">.</span><span class="n">html</span>
    <span class="n">timeline</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>DeepPrep automatically generates a descriptive HTML report for each participant and session. <a class="reference external" href="_static/sub-001.html">View a sample report</a>.
The report commences with a concise summary of key imaging parameters extracted from the BIDS meta information.
Subsequently, the report provides an overview of the overall CPU and GPU processing times for the data preprocessing.
Key processing steps and results for structural images are visually presented, including segmentation, parcellation, spatial normalization, and coregistration.
The normalization and coregistration outcomes are demonstrated through dynamic ‘before’ versus ‘after’ animations.
Additionally, the report includes a carpet plot, showcasing both the raw and preprocessed fMRI data, along with a temporal signal-to-noise ratio (tSNR) map.
Finally, the report concludes with comprehensive boilerplate methods text, offering a clear and consistent description of all preprocessing steps employed,
accompanied by appropriate citations. Some examples are shown below:</p>
<a class="reference internal image-reference" href="_static/report_timeline.png"><img alt="Alternative Text" class="align-center" src="_static/report_timeline.png" style="width: 800px; height: 259px;" /></a>
<p>The visual reports provide several sections per task and run to aid designing a denoising strategy for subsequent analysis.
Some of the estimated confounds are plotted with a “carpet” visualization of the BOLD time series. An example is shown below:</p>
<a class="reference internal image-reference" href="_images/desc-carpet_bold.svg"><img alt="Alternative Text" class="align-center" height="300" src="_images/desc-carpet_bold.svg" width="600" /></a>
<p>The picture was plotted by the FMRISummary from Nipype and these values were calculated by the following methods.
Global signals (GS) were calculated within the whole-brain, the white-matter (GSWM) and the cerebro-spinal fluid (GSCSF)
were calculated with their corresponding masks, the standardized DVARS was calculated by ComputeDVARS from Nipype,
the framewise-displacement measures (FD) were calculated by FramewiseDisplacement from Nipype, and the relative head motion (RHM) was calculated in this pipeline.
A carpet plot shows the time series for all voxels within the brain mask, include Cortical gray matter (Ctx GM), subcortical gray matter (dGM), white matter and CSF (WM+CSF),
and the rest of the brain (The rest).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="processing.html" class="btn btn-neutral float-left" title="Processing pipeline details" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ - Frequently Asked Questions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, deep.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>